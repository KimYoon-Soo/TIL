# static
- 이직 면접때, 받은 질문이다.<br>
  **"Java static에 대해 아시나요? 설명해주세요."**

- 나는 .net 개발자 였기에 <b>'Java static은 또 다른 무언가가 있나?'</b> 싶었지만 대충 아는대로 설명했다.<br>
  "따로 객체를 생성 하지 않고 바로 사용할 수 있으며, static 영역에 선언하기에 공통으로 사용하는 것에 씁니다."<br>
  (하지만 면접관은 뭔가 대답이 만족스러워 보이지 않아보였다.)

- 면접을 마치고나서 복기를 하면서 궁금해서 찾아보았는데, 나름 단골 질문이었나보다.<br>
  그리고 Java라고 해서 특별한 점은 없다는 것을 알게 되었다.<br>
   (그 면접관은 왜 불만인거처럼 보인걸까?)

#### static 변수, 메소드란?
- static 변수, 메소드는 객체(인스턴스)에 소속된 멤버가 아니라 클래스에 고정된 멤버

- 따라서, 클래스 로더가 클래스를 로딩해서 메소드 메모리 영역에 적재할때 클래스별로 관리<br>
  클래스의 로딩이 끝나는 즉시 바로 사용 가능

- Heap영역이 아닌 Static영역에 할당<br>
  (Static 영역에 할당되면 모든 객체가 공유하여 어디서든 참조 가능)

- Garbage Collector의 관리 대상이 아니므로 프로그램 종료시까지 메모리에 할당된 채로 존재한다는 단점이 있음<br>
  따라서, 남발하는 경우 시스템 성능에 악영향

#### 결국 static은 언제 사용하면 될까?
- 클래스를 설계할 때, 멤버변수 중 모든 인스턴스에서 공통적으로 사용하는 경우

- ex) 공용 Data, CheckLogin 메서드 등

- 하지만, 각종 프로젝트를 해봤지만 나의 경험에서는 이런 경우는 거의 없었다.<br>
  static을 사용하는 것을 그동안 대다수의 사람들이 매우 비추천해왔었다.<br>
  왜냐하면 static을 풀어야하는 경우가 생기면 그 영향력이 너무나도 크다.<br>
  물론, static을 푼다는 것 자체가 클래스 설계가 잘못된거겠지만, 현업에서 처음부터 완벽하게 설계하는 건 사실상 불가능하지 않던가<br>
  그리고 static으로 인해 test를 함에도 쉽지 않은 경우들이 분명히 존재한다.

#### static이 붙은 멤버변수는 인스턴스를 생성하지 않아도 사용 가능
- static이 붙은 멤버변수는 클래스가 메모리에 올라갈때 자동 생성

- static 메서드는 인스턴스 생성 없이 호출가능한 반면, 인스턴스 변수는 사용 불가능<br>
  하지만 반대는 가능, 즉, static 메서드 내에서는 static만 사용 가능

#### 메서드 내에서 인스턴스 변수를 사용하지 않는다면, static을 붙이는 것을 고려
- 인스턴스변수를 필요하지 않는다면, static 붙이는 것을 고려<br>
  (메서드 호출시간이 짧아져서 효율이 높다고 하는데, ~~이게 성능에 그정도로 유의미하다고?~~)

- ~~그리고 정말 진짜로 이런 이유로 static을 붙이는 것이 좋다고?~~

#### 결론
- 클래스 멤버변수 중 **모든 인스턴스에 공통된 값을 유지**
해야하는 것이 있으면, static을 붙여줌

- 작성한 메서드 중에서 인스턴스 변수를 사용하지 않는 메서드에 대해서 static을 붙을 것을 고려

#### 대표적 예시
- 카드 게임의 카드 클래스<br>
  아래 예시를 보면 직관적으로 이해가 갈꺼라 생각함
``` java
class Card {
    String kind; // 카드 종류 (하트, 다이아, 스페이드, 클로버)
    int number; // 카드 숫자
    static int width = 100; // 카드 가로 길이
    static int height = 250; // 카드 세로 길이
}
```
